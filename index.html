<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•„í¬ ë ˆì´ë”ìŠ¤ í€˜ìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #f4f4f9; 
            color: #333; 
            margin: 0; 
            padding: 0;
        }
        
        /* ---------------------------------------------------- */
        /* âœ¨ ê³ ì • í—¤ë” ì„¹ì…˜ CSS */
        /* ---------------------------------------------------- */
        #fixed-summary-wrapper { 
            position: fixed; /* í™”ë©´ ìƒë‹¨ì— ê³ ì • */
            top: 0; 
            left: 0; 
            width: 100%; 
            z-index: 1000;
            background-color: #f4f4f9;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding-bottom: 20px;
        }
        
        .overall-summary { 
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 30px 0 30px;
            background-color: #e6f7ff;
            border-radius: 0 0 8px 8px;
            border: 1px solid #b3e0ff;
            border-top: none;
        }

        /* ---------------------------------------------------- */
        /* ë©”ì¸ ì½˜í…ì¸  ì»¨í…Œì´ë„ˆ CSS */
        /* ---------------------------------------------------- */
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background-color: #fff; 
            padding: 30px; 
            /* ê³ ì •ëœ í—¤ë” ë†’ì´ë§Œí¼ ì½˜í…ì¸  ì‹œì‘ ìœ„ì¹˜ë¥¼ ì•„ë˜ë¡œ ë°€ì–´ëƒ„ (í•„ìˆ˜) */
            padding-top: 200px; 
            border-radius: 10px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
        }

        /* ê¸°íƒ€ ìŠ¤íƒ€ì¼ */
        h1 { color: #0056b3; border-bottom: 2px solid #0056b3; padding-bottom: 10px; margin-bottom: 30px; margin-top: 0; }
        h2 { color: #333; margin-top: 25px; border-left: 5px solid #0056b3; padding-left: 10px; }
        .progress-bar { background-color: #e0e0e0; border-radius: 5px; overflow: hidden; height: 25px; margin-bottom: 15px; }
        .progress-fill { background-color: #007bff; height: 100%; text-align: right; line-height: 25px; color: white; transition: width 0.3s; font-weight: bold; padding-right: 5px; box-sizing: border-box; }
        .npc-progress-bar { background-color: #d1e7ff; }
        .npc-progress-fill { background-color: #0056b3; }
        .quest-list { list-style: none; padding: 0; }
        .quest-item { background-color: #f9f9f9; margin-bottom: 15px; padding: 15px; border-radius: 8px; border: 1px solid #eee; }
        .quest-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-weight: bold; font-size: 1.1em; }
        .quest-header a { color: #007bff; text-decoration: none; }
        .quest-header a:hover { text-decoration: underline; }
        .objective-list { list-style: none; padding: 0; margin-top: 5px; }
        .objective-list li { padding: 5px 0; border-top: 1px dashed #eee; display: flex; align-items: center; }
        .objective-list li:first-child { border-top: none; }
        .objective-list input[type="checkbox"] { margin-right: 10px; transform: scale(1.2); }
        .npc-section { margin-top: 30px; }
    </style>
</head>
<body>

<div id="fixed-summary-wrapper">
    <div class="overall-summary">
        <h1>ì•„í¬ ë ˆì´ë”ìŠ¤ í€˜ìŠ¤íŠ¸ ë‹¬ì„±ë¥ </h1>
        <h2>âœ¨ ì „ì²´ í€˜ìŠ¤íŠ¸ ì§„í–‰ë¥  (<span id="overall-percent-text">0.00%</span>)</h2>
        <div class="progress-bar">
            <div class="progress-fill" id="overall-progress-fill" style="width: 0;"></div>
        </div>
        <p>ì´ í€˜ìŠ¤íŠ¸ <span id="overall-total-quests">0</span>ê°œ ì¤‘ <span id="overall-completed-quests">0</span>ê°œ ì™„ë£Œ</p>
    </div>
</div>

<div class="container">
    <div id="checklist-container">
        </div>
</div>

<script>
    // í€˜ìŠ¤íŠ¸ ë°ì´í„° (ë§í¬ëŠ” ëª¨ë‘ ë‹¨ì¼ ê¸°ì‚¬ í˜ì´ì§€ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤)
    const GUIDE_URL = "https://www.inven.co.kr/webzine/news/?news=310816";

    const questData = [
        { name: "ì”í•´ ìˆ˜ê±°", npc: "ìƒ¤ë‹ˆ", objectives: ["ë§µì—ì„œ ì „ë¦¬í’ˆ ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ì´ ìˆëŠ” ì§€ì—­ ë“¤ë¥´ê¸°", "ì»¨í…Œì´ë„ˆ 3ê°œ ë…¸íší•˜ê¸°"], link: GUIDE_URL },
        { name: "ë” ë§‘ì€ í•˜ëŠ˜", npc: "ìƒ¤ë‹ˆ", objectives: ["ì•„í¬ ì  3ê°œ íŒŒê´´í•˜ê¸°", "ìƒ¤ë‹ˆì—ê²Œ ì•„í¬ í•©ê¸ˆ 3ê°œ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ì“°ë ˆê¸°ë¥¼ ë³´ë¬¼ë¡œ", npc: "ìƒ¤ë‹ˆ", objectives: ["ì „ì„  6ê°œ íšë“í•˜ê¸°", "ë°°í„°ë¦¬ 1ê°œ íšë“í•˜ê¸°"], link: GUIDE_URL },
        { name: "ë ˆì´ë”ë§ì˜ ë°”ê¹¥", npc: "ìƒ¤ë‹ˆ", objectives: ["í•„ë“œ ì°½ê³  ë“¤ë¥´ê¸°", "í•„ë“œ ì°½ê³  ì§€ë¶•ì˜ ì•ˆí…Œë‚˜ ìˆ˜ë¦¬í•˜ê¸°"], link: GUIDE_URL },
        { name: "ì§€ìƒì— ë°œì„ ë”›ê³ ", npc: "ìƒ¤ë‹ˆ", objectives: ["í•„ë“œ ì°½ê³  ë“¤ë¥´ê¸°", "í•„ë“œ ì°½ê³ ì— ìƒì ìš´ë°˜í•˜ê¸°", "ë³´ìƒì„ ìˆ˜ì§‘í•˜ê¸°"], link: GUIDE_URL },
        { name: "ì‚¼ì¸ì¡°", npc: "ìƒ¤ë‹ˆ", objectives: ["ì™€ìŠ¤í”„ íŒŒê´´/ë“œë¼ì´ë²„ ì „ë‹¬", "í˜¸ë„· íŒŒê´´/ë“œë¼ì´ë²„ ì „ë‹¬", "ìŠ¤ë‹ˆì¹˜ íŒŒê´´/ë“œë¼ì´ë²„ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ì ì— ë“  ë°”ë¡ ", npc: "ìƒ¤ë‹ˆ", objectives: ["ë°”ë¡  í—ˆë¬¼ ë…¸íší•˜ê¸°"], link: GUIDE_URL },
        { name: "ë’¤ì„ì¸ ì‹ í˜¸", npc: "ìƒ¤ë‹ˆ", objectives: ["ì•„í¬ ì„œë² ì´ì–´ íŒŒê´´í•˜ê¸°", "ì„œë² ì´ì–´ ë³¼íŠ¸ 1ê°œ íšë“í•˜ê¸°"], link: GUIDE_URL },
        { name: "ì§€í˜•", npc: "ìƒ¤ë‹ˆ", objectives: ["ì¥ì‘¤ ì°½ê³  ë„ë‹¬", "ìš´ì†¡ ê¸°ë¡ ì°¾ê¸°", "ìŠ¤ìºë„ˆ ì°¾ê¸°", "LIDAR ìŠ¤ìºë„ˆ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ì”í•´ë¡œ ì „ë½í•œ", npc: "ìƒ¤ë‹ˆ", objectives: ["ë¶•ê´´ëœ ê³ ì†ë„ë¡œ ì´¬ì˜", "ë¶€ì„œì§„ ëŒ€ì§€ ì´ë™/í”ì  ë”°ë¼ê°€ê¸°", "ì•„í¬ ë¨¸ì‹  ì¡°ì‚¬"], link: GUIDE_URL },
        { name: "í”ì ì„ ë”°ë¼", npc: "ìƒ¤ë‹ˆ", objectives: ["í™©ëŸ‰í•œ ê³µí„° ë„ë‹¬", "ì•„í¬ ë¨¸ì‹  ì“°ëŸ¬ëœ¨ë¦° í”ì  ì°¾ê¸°", "ì¥ì‹ëœ ì”í•´ ì¡°ì‚¬", "í†µì‹  ì¥ì¹˜ ì¡°ì‚¬"], link: GUIDE_URL },
        { name: "ê·¸ë¦¼ì ë°–ìœ¼ë¡œ", npc: "ìƒ¤ë‹ˆ", objectives: ["ë¡œì¼“í‹°ì–´ íŒŒê´´í•˜ê¸°", "ë¡œì¼“í‹°ì–´ ë“œë¼ì´ë²„ íšë“í•˜ê¸°"], link: GUIDE_URL },
        { name: "ìƒê³µì˜ ê°ì‹œì", npc: "ìƒ¤ë‹ˆ", objectives: ["ëŒ ê´€ì œíƒ‘ ìŠ¤ìºë„ˆ ì„¤ì¹˜", "ìš°ì£¼ ê¸°ì§€ í†µì‹ íƒ‘ ìŠ¤ìºë„ˆ ì„¤ì¹˜", "íŒŒë¬»íŒ ë„ì‹œ ê°„íŒ ìŠ¤ìºë„ˆ ì„¤ì¹˜"], link: GUIDE_URL },
        { name: "ì € ìœ„ì— ìˆëŠ” ìš°ë¦¬ ì¡´ì¬", npc: "ìƒ¤ë‹ˆ", objectives: ["íŒ¨í„´ í•˜ìš°ìŠ¤ ë°©ë¬¸", "ì „ì› ìŠ¤ìœ„ì¹˜ ëˆ„ë¥´ê¸°", "ì§€ë¶•ì— ì•ˆí…Œë‚˜ ì„¤ì¹˜"], link: GUIDE_URL },
        { name: "ë¹„ë°€ í†µì‹ ì²˜", npc: "ìƒ¤ë‹ˆ", objectives: ["ë¶‰ì€ íƒ‘ ë„ë‹¬", "ì‚¬ë¼ì§„ ë°°í„°ë¦¬ ì°¾ê¸°", "ë°°í„°ë¦¬ ì…€ ì„¤ì¹˜", "ì „ë ¥ ê³µê¸‰", "ì•ˆí…Œë‚˜ í„°ë¯¸ë„ ë¶€íŒ…"], link: GUIDE_URL },
        { name: "ê²©ì „ ì†ìœ¼ë¡œ", npc: "ìƒ¤ë‹ˆ", objectives: ["ë¦¬í¼ íŒŒê´´í•˜ê¸°", "ë¦¬í¼ í„ìŠ¤ ìœ ë‹› íšë“í•˜ê¸°"], link: GUIDE_URL },
        { name: "ì „íŒŒ, ì‚¬ë¼ì§€ë‹¤", npc: "ìƒ¤ë‹ˆ", objectives: ["ê´€ì œíƒ‘ A6 ë°©ë¬¸", "ê¼­ëŒ€ê¸°ì— ë„ë‹¬", "ê´€ì œíƒ‘ ì—°ê²° ì¬ì„¤ì •"], link: GUIDE_URL },
        { name: "ëƒ‰ë™ ì €ì¥ì†Œ", npc: "ìƒ¤ë‹ˆ", objectives: ["J Kozma Ventures ì»¨í…Œì´ë„ˆ ì°¾ê¸°", "ìƒ¤ë‹ˆì—ê²Œ í¬ê·€í•œ ì±… ì „ë‹¬í•˜ê¸°"], link: GUIDE_URL },
        
        { name: "ì•ˆ ì¢‹ì€ ì˜ˆê°", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ì•„ë¬´ ì•„í¬ íƒì‚¬ê¸°ë‚˜ ìš´ë°˜ê¸° ì°¾ì•„ ìˆ˜ìƒ‰í•˜ê¸°"], link: GUIDE_URL },
        { name: "ë‡Œë¬¼ë¡œ ê¸°ë¦„ì¹ ", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ë¡œì¼“ ì¶”ì§„ê¸° ì‚´í´ë³´ê¸°", "íŒŒë¬»íŒ ë„ì‹œ 6ì¸µ ë´‰ì‡„ êµ¬ì—­ ë“¤ë¥´ê¸°", "ëŒ ì •ìˆ˜ ì²˜ë¦¬ì¥ ì ê¸´ ë°© ë“¤ë¥´ê¸°"], link: GUIDE_URL },
        { name: "ì •ë³´ ë°”ë¡œì¡ê¸°", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ìŠ¹ë¦¬ì˜ ì‚°ë“±ì„±ì´ ë„ë‹¬í•˜ê¸°", "ì˜¤ë˜ëœ EMP í•¨ì • ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ê¸°ì–µì˜ ë³´ì¡´", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ê°œë¯¸íƒ‘ ì–¸ë• ì”í•´ ë„ë‹¬", "ìƒì–´ë²„ë¦° í—¬ë©§ ì°¾ê¸°", "ê¸°ë…ë¬¼ì— í—¬ë©§ ë˜ëŒë ¤ ë†“ê¸°"], link: GUIDE_URL },
        { name: "ìŠ¹ë¦¬ì˜ ì‚°ë“±ì„±ì´ì— í¼ì§€ëŠ” ë©”ì•„ë¦¬", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ìŠ¹ë¦¬ì˜ ì‚°ë“±ì„±ì´ ë„ë‹¬í•˜ê¸°", "ì•„ì´ë°” ì†Œë ¹ì˜ íŒ¨ì¹˜ ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ë‹¨ê²°ì˜ ìƒì§•", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ê°œë¯¸íƒ‘ ì „ì´ˆ ê¸°ì§€ ë„ë‹¬", "ê¹ƒë°œ ì°¾ê¸°", "ë¶‰ì€ í˜¸ìˆ˜ í”Œë«í¼ì— ê¹ƒë°œ ê²Œì–‘"], link: GUIDE_URL },
        { name: "ì…€ë ˆìŠ¤í…Œì˜ ì¼ì§€", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ë‚¨ìª½ ëŠª ì „ì´ˆ ê¸°ì§€ ì¼ì§€ íšŒìˆ˜", "ë¶ìª½ ì „ì´ˆ ê¸°ì§€ ì¼ì§€ íšŒìˆ˜", "ì…€ë ˆìŠ¤í…Œì—ê²Œ ì¼ì§€ 2ê°œ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ë¹„ê°€ ì˜¨ ë’¤ì—", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["í™ìˆ˜ë¡œ ì†ìƒëœ íƒœì–‘ê´‘ íŒ¨ë„ ì°¾ê¸°", "ì „ì„ /ë°°í„°ë¦¬ ì‚¬ìš©í•´ íŒ¨ë„ ìˆ˜ë¦¬"], link: GUIDE_URL },
        { name: "ê· í˜• ì¡íŒ í¬íš", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ì—°êµ¬ë™ ë° í–‰ì •ë™ ì´ë™", "ì œ1ì—°êµ¬ì†Œ ì°¾ê¸°", "ë†ì—… ì—°êµ¬ í”„ë¡œì íŠ¸ í”ì  ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ë²„ë¦¼ë°›ì€ ì •ì›", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ìˆ˜ê²½ì¬ë°° ë” ë‹¨ì§€ ì´ë™", "ë°ì´í„° ë³´ê´€ì†Œ ì ‘ê·¼", "í•„ë“œ ì°½ê³  ì»´í“¨í„°ì— ë°ì´í„° ì—…ë¡œë“œ"], link: GUIDE_URL },
        { name: "ë¬¸ì œì˜ ì›ì¸", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ì—°êµ¬ë™ìœ¼ë¡œ ì´ë™í•˜ê¸°", "'ì „ë§ì´ ì•„ì£¼ ì¢‹ì€ ë°©'ì—ì„œ ì”¨ì•— ê¸ˆê³  ì°¾ê¸°", "ì‹¤í—˜ìš© ì”¨ì•— ìƒ˜í”Œ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ë¬¼ ë¬¸ì œ", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["í™ìˆ˜ ëŒ€ë¹„ í„°ë„ ì°¾ê¸°", "ì·¨ìˆ˜êµ¬ ì°¾ê¸°", "ë¬¼ ìƒ˜í”Œ ê°€ì ¸ì˜¤ê¸°"], link: GUIDE_URL },
        { name: "ì˜¤ì—¼ì˜ ê·¼ì›", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ëŒì˜ ì •ìˆ˜ ì²˜ë¦¬ ê±´ë¬¼ ë„ë‹¬", "ëŠª ê·¼ì²˜ í™ìˆ˜ ë°°ìˆ˜ë¡œ ì…êµ¬ ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ë³´ê¸‰í’ˆ êµì²´", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ìš°ì£¼ ê¸°ì§€ ì•„ë˜ í„°ë„ ì°¾ê¸°", "ë°¸ë¸Œë¥¼ ì°¾ì•„ ëŒë¦¬ê¸°"], link: GUIDE_URL },
        { name: "ì •ì „", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ë³€ì „ì†Œ ì°¾ê¸°", "ì‚¬ë¼ì§„ ì—”ì§€ë‹ˆì–´ í”ì  ì°¾ê¸°", "í“¨ì¦ˆ ì„¤ì¹˜", "ì „ë ¥ ë³µêµ¬í•˜ê¸°"], link: GUIDE_URL },
        { name: "ì ë©¸í•˜ëŠ” ìœ„í˜‘", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ë°œì „ê¸°ì‹¤ ì°¾ê¸°", "ë°œì „ê¸° ìˆ˜ë¦¬", "í†µí’êµ¬ ì°¾ê¸°", "ì „ì› ìŠ¤ìœ„ì¹˜ë¡œ ì „ë ¥ í™œì„±í™”"], link: GUIDE_URL },
        { name: "ë²Œì´ë‹¤!", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ì˜¬ë¦¬ë¸Œ ìˆ²ì— ë„ë‹¬í•˜ê¸°", "ë²Œì§‘ ì°¾ê¸°"], link: GUIDE_URL },
        { name: "í†¨ë ˆë„ì— ë³´ë‚´ëŠ” ì°¬ì‚¬", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["íŒŒì›Œ ë¡œë“œ ì…ìˆ˜í•˜ê¸°"], link: GUIDE_URL },
        { name: "ë¶€íŒ¨ íŒŒí—¤ì¹˜ê¸°", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ì‚°íƒ€ ë§ˆë¦¬ì•„ ì£¼íƒê°€ ì°¾ê¸°", "ë¹„ë°€ ë¬¼í’ˆ ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ì „í–¥", npc: "ì…€ë ˆìŠ¤í…Œ", objectives: ["ë¶ìª½ ë„ë‘ íƒ‘ìœ¼ë¡œ ì´ë™", "í˜‘ë°• ë©”ì¼ íŒŒì¼ ì°¾ê³  ì—…ë¡œë“œ"], link: GUIDE_URL },

        { name: "ë”± ë§ëŠ” ë„êµ¬", npc: "í‹°ì•ˆ ì›¬", objectives: ["íŒŒì´ì–´ë³¼ ì²˜ì¹˜", "í˜¸ë„· ì²˜ì¹˜", "í¬íƒ‘ ì²˜ì¹˜"], link: GUIDE_URL },
        { name: "í•´ì¹˜ ìˆ˜ë¦¬", npc: "í‹°ì•ˆ ì›¬", objectives: ["ìœ ì•• íŒŒì´íŠ¸ ìˆ˜ë¦¬í•˜ê¸°", "í•´ì¹˜ ì—´ì‡  ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ë” ë‚˜ì€ í™œìš©ë²•", npc: "í‹°ì•ˆ ì›¬", objectives: ["ë³´ê¸‰í’ˆ ë“œë¡­ ìš”ì²­í•˜ê¸°", "ë³´ê¸‰í’ˆ ë“œë¡­ ë…¸íší•˜ê¸°"], link: GUIDE_URL },
        { name: "ë’¤ì— ë‚¨ê²¨ì§„ ê²ƒë“¤", npc: "í‹°ì•ˆ ì›¬", objectives: ["ì£¼ì°¨ ì°¨ê³  ì§€í•˜ ì»¨í…Œì´ë„ˆ 2ê°œ ì¡°ì‚¬", "ë‚¨ìª½ ëŠª ì „ì´ˆê¸°ì§€ ì¤‘ìš”í•œ ë¬¼ê±´ ì°¾ê¸°", "ìš°ì£¼ ê¸°ì§€ ì€ì‹ ì²˜ ì¤‘ìš”í•œ ë¬¼ê±´ ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ë¶€ì„œì§„ ê¸°ë…ë¬¼", npc: "í‹°ì•ˆ ì›¬", objectives: ["ì„±ì§€ì— ë„ë‹¬í•˜ê¸°", "ë‚˜ì¹¨ë°˜ ì°¾ê¸°", "ë¹„ë””ì˜¤ í…Œì´í”„ ì°¾ê¸°", "ì˜¤ë˜ëœ ì•¼ì „ ë°°ì‹ ì°¾ê¸°", "í‹°ì•ˆ ì›¬ì—ê²Œ ë¬¼ê±´ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ì£½ìŒì˜ í‘œì‹", npc: "í‹°ì•ˆ ì›¬", objectives: ["Su Durante ì°½ê³  ë„ë‹¬", "í‹°ì•ˆ ì›¬ì˜ ë¹„ì¶•ë¬¼ ê²€ìƒ‰", "ë‹¨ì„œ ë”°ë¼ê°€ê¸°"], link: GUIDE_URL },
        { name: "ì‹œì¥ ì¡°ì •", npc: "í‹°ì•ˆ ì›¬", objectives: ["ë§ˆë¼ë…¸ì—­ ì€ë‹‰ë¬¼ ì°¾ê¸°", "ì€ë‹‰ë¬¼ íŒŒê´´í•˜ê¸°"], link: GUIDE_URL },
        { name: "ëª©í‘œì— ì‹œì„  ê³ ì •", npc: "í‹°ì•ˆ ì›¬", objectives: ["ì™¸ë”´ ì˜¥ìƒ í…Œë¼ìŠ¤ ì°¾ê¸°", "ì „ì„  3ê°œ ì‚¬ìš©í•´ íŒ¨ë„ ì „ì„  êµì²´"], link: GUIDE_URL },
        { name: "ì‚°ì—… ìŠ¤íŒŒì´", npc: "í‹°ì•ˆ ì›¬", objectives: ["ë¬´ê¸° ì€ë‹‰ì²˜ ì°¾ê¸°", "ë¼ì´ë²Œ ì€ë‹‰ê³ ì— ë¶€ë¥¼ë ˆíƒ€ ì „ë‹¬", "ë„ì²­ ì¥ì¹˜ ì„¤ì¹˜"], link: GUIDE_URL },
        { name: "ì˜ˆìƒì¹˜ ëª»í•œ ê³„íš", npc: "í‹°ì•ˆ ì›¬", objectives: ["ê·¸ë€ë””ì˜¤ì†Œ ì•„íŒŒíŠ¸ ë„ë‹¬", "ì•„íŒŒíŠ¸ ì˜¥ìƒì—ì„œ ë¹„ë£Œ ì°¾ê¸°", "í”¼ì•„ì°¨ ë¡œë§ˆ ë„ë‹¬", "ë¬¼ íŒí”„ ì°¾ê¸°", "í‹°ì•ˆ ì›¬ì—ê²Œ ë¬¼ê±´ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ë‹¤ì‹œ ì§€ìƒìœ¼ë¡œ", npc: "í‹°ì•ˆ ì›¬", objectives: ["íŒ¨í„´ ì „ì´ˆ ê¸°ì§€ ë§ˆí‚¹", "í°ìƒ‰ ì¡°ë§íƒ‘ ë§ˆí‚¹", "ë„ë‘ íƒ‘ ë§ˆí‚¹", "ë²½í™” ê±´ë¬¼ ë§ˆí‚¹"], link: GUIDE_URL },
        { name: "ì†Œë ¹ì˜ í’‹ë¼ì»¤", npc: "í‹°ì•ˆ ì›¬", objectives: ["ì•„ì´ë°” ì†Œë ¹ì˜ ìœ í’ˆ ì°¾ê¸°", "ìœ í’ˆì„ í‹°ì•ˆ ì›¬ì—ê²Œ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ì¥ê°‘ ìˆ˜ì†¡ì°¨", npc: "í‹°ì•ˆ ì›¬", objectives: ["ì²´í¬í¬ì¸íŠ¸ ë„ë‹¬", "ì¥ê°‘ ìˆœì°°ì í‚¤ì¹´ë“œ ì°¾ê¸°", "êµí†µ í„°ë„ ë„ë‹¬", "ë’·ë¬¸ ì°¾ì•„ ì—´ê¸°"], link: GUIDE_URL },
        { name: "ì‚¬ì§„ ì´¬ì˜ ë° ë¶€í’ˆ ë¶„í•´", npc: "í‹°ì•ˆ ì›¬", objectives: ["ë¡œë²„ ì´¬ì˜", "ì„œë¥˜ ìˆ˜ìƒ‰", "ì „ìê´€ ì „ë‹¬", "ìœ ëŸ‰ ì¡°ì ˆê¸° ì „ë‹¬"], link: GUIDE_URL },

        { name: "ë¬´ì‚¬ í†µê³¼", npc: "ì•„í´ë¡œ", objectives: ["ì•„ë¬´ í­ë°œ ìˆ˜ë¥˜íƒ„ìœ¼ë¡œ ì•„í¬ ì  2ê¸° ì²˜ì¹˜"], link: GUIDE_URL },
        { name: "ê°€ëŠ” ë§ì´ ê³ ì™€ì•¼", npc: "ì•„í´ë¡œ", objectives: ["íŒŒì´ì–´ë³¼ ë²„ë„ˆë¡œ ì•„ë¬´ ì•„í¬ ì  ì²˜ì¹˜í•˜ê¸°"], link: GUIDE_URL },
        { name: "ë¶ˆê½ƒ íŠ€ëŠ” ëŒ€ê²°", npc: "ì•„í´ë¡œ", objectives: ["íŠ¸ë¦¬ê±° ë˜ëŠ” ìŠ¤ëƒ… ë¸”ë˜ìŠ¤íŠ¸ ìˆ˜ë¥˜íƒ„ìœ¼ë¡œ í˜¸ë„· ì²˜ì¹˜"], link: GUIDE_URL },
        { name: "ì²« ê±°ì ", npc: "ì•„í´ë¡œ", objectives: ["ì „ë§ëŒ€ ì•ˆì •í™” í•˜ê¸°", "í†µì‹  í„°ë¯¸ë„ ì¼œê¸°", "ìœ„ì„± ì ‘ì‹œ íšŒì „í•˜ê¸°", "ì§€ë¶• íŒ ê³ ì •í•˜ê¸°"], link: GUIDE_URL },
        { name: "ë”°ëœ»í•œ ì‰¼í„°", npc: "ì•„í´ë¡œ", objectives: ["ê³ ì†ë„ë¡œ ìº í”„ ì°¾ê¸°", "ìƒì¡´ì í”ì  ì°¾ê¸°", "ë¶‰ì€ í‘œì‹ ë”°ë¼ê°€ê¸°", "ë¬´ë¤ ì¡°ì‚¬í•˜ê¸°"], link: GUIDE_URL },
        { name: "ì—ìŠ¤í”„ë ˆì†Œ", npc: "ì•„í´ë¡œ", objectives: ["ì—ìŠ¤í”„ë ˆì†Œ ë¨¸ì‹  ì°¾ê³  ë¶€í’ˆ íšë“", "ì•„í´ë¡œì—ê²Œ ë¶€í’ˆ ì „ë‹¬"], link: GUIDE_URL },
        { name: "ë„ì„œê´€ ê±´ì„¤", npc: "ì•„í´ë¡œ", objectives: ["ë„ì‹¬ì—ì„œ ë„ì„œê´€ ì°¾ê¸°", "ë¡œë§¨ìŠ¤ ì†Œì„¤ 1ê¶Œ ì°¾ê¸°", "íƒì • ì†Œì„¤ 1ê¶Œ ì°¾ê¸°", "ëª¨í—˜ ì†Œì„¤ 1ê¶Œ ì°¾ê¸°", "ì•„í´ë¡œì—ê²Œ ì±… 3ê¶Œ ì „ë‹¬"], link: GUIDE_URL },

        { name: "ì˜ì‚¬ì˜ ì§€ì‹œ", npc: "ëœìŠ¤", objectives: ["ì£¼ì‚¬ê¸° 1ê°œ íšë“", "ì†Œë…ì•½ 2ê°œ íšë“", "ìš°ë‹¨ë‹´ë°°í’€ 1ê°œ íšë“", "ì§ˆê¸´ ì²œ 1ê°œ íšë“"], link: GUIDE_URL },
        { name: "ì˜ë£Œ ë¬¼ì", npc: "ëœìŠ¤", objectives: ["ìš°ì£¼ ê¸°ì§€ ê²€ì§„ì‹¤ ì»¨í…Œì´ë„ˆ 2ê°œ ìˆ˜ìƒ‰", "íŒŒë¬»íŒ ë„ì‹œ ë³‘ì› ì»¨í…Œì´ë„ˆ 3ê°œ ìˆ˜ìƒ‰", "ëŒ ê²€ì§„ì‹¤ ì»¨í…Œì´ë„ˆ 2ê°œ ìˆ˜ìƒ‰"], link: GUIDE_URL },
        { name: "íí—ˆì—ì„œ ë“œëŸ¬ë‚œ ê²ƒ", npc: "ëœìŠ¤", objectives: ["ì•½êµ­ ì•ˆì—ì„œ ESR ë¶„ì„ê¸° ì°¾ê¸°", "ëœìŠ¤ì—ê²Œ ESR ë¶„ì„ê¸° ì „ë‹¬í•˜ê¸°"], link: GUIDE_URL },
        { name: "ê³¼ê±°ì˜ ì²˜ë°©ì „", npc: "ëœìŠ¤", objectives: ["ìš°ì£¼ ê¸°ì§€ ì¶œë°œë™ ë°©ë¬¸", "ê²€ì§„ì‹¤ ì°¾ê¸°", "ê¸°ë¡ ì°¾ê¸°"], link: GUIDE_URL },
        { name: "ì•½ì‚¬ì˜ ì‚¶", npc: "ëœìŠ¤", objectives: ["ì•„ë¥´ë¶€ìŠ¤í†  íŒŒë¥´ë§ˆì‹œì•„ ì°¾ê¸°", "ì•½ì‚¬ì˜ ì·¨ë¯¸ ê¸°ë¡", "ì•½ì‚¬ì˜ ê°€ì¡± ê¸°ë¡", "ì•½ì‚¬ì˜ ì·¨í–¥ ê¸°ë¡", "ì•½ì‚¬ì˜ ê¸°ìˆ  ê¸°ë¡"], link: GUIDE_URL },
        { name: "ì‹ ì¢… ì‹ë¬¼", npc: "ëœìŠ¤", objectives: ["ë°”ë¡  í—ˆë¬¼ ê·¼ì²˜ì—ì„œ ì‹ ì¢… ì‹ë¬¼ ì°¾ê¸°", "ëœìŠ¤ì—ê²Œ ë…ì„± ì‹ë¬¼ ì „ë‹¬í•˜ê¸°"], link: GUIDE_URL },
        { name: "ë‚´ í˜•ìƒëŒ€ë¡œ", npc: "ëœìŠ¤", objectives: ["ìŠ¤í…”ë¼ ëª¬í‹°ìŠ¤ë¡œ ë°°ì¹˜", "3 ì•ˆë“œë¡œì´ë“œ ì°¾ì•„ ê²€ìƒ‰í•˜ê¸°"], link: GUIDE_URL },
    ];

    const STORAGE_KEY = 'ark_raiders_quest_progress';

    // í€˜ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ NPCë³„ë¡œ ê·¸ë£¹í™”
    const groupedData = questData.reduce((acc, quest, index) => {
        quest.id = `${quest.npc}-${index}`;
        if (!acc[quest.npc]) {
            acc[quest.npc] = [];
        }
        acc[quest.npc].push(quest);
        return acc;
    }, {});

    // ì²´í¬ ìƒíƒœë¥¼ ë¡œë“œí•˜ê³  ì €ì¥í•˜ëŠ” í•¨ìˆ˜ (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©)
    const loadProgress = () => {
        try {
            const savedData = localStorage.getItem(STORAGE_KEY);
            return savedData ? JSON.parse(savedData) : {};
        } catch (e) {
            console.error("Local storage load failed:", e);
            return {};
        }
    };

    const saveProgress = (progress) => {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
        } catch (e) {
            console.error("Local storage save failed:", e);
        }
    };

    let questProgress = loadProgress();

    // ì§„í–‰ë¥ ì„ ê³„ì‚°í•˜ê³  UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
    const updateProgress = () => {
        let totalAllObjectives = 0;
        let totalCheckedAllObjectives = 0;
        const totalQuests = questData.length;
        const npcTotals = {};

        Object.keys(groupedData).forEach(npc => {
            npcTotals[npc] = { totalObjectives: 0, checkedObjectives: 0, totalQuests: groupedData[npc].length, completedQuests: 0 };
        });

        questData.forEach(quest => {
            let checkedObjectives = 0;
            const totalObjectives = quest.objectives.length;

            quest.objectives.forEach((obj, objIndex) => {
                const checkboxId = `${quest.id}-${objIndex}`;
                const checkbox = document.getElementById(checkboxId);
                
                if (checkbox && checkbox.checked) {
                    checkedObjectives++;
                }
            });

            const questPercent = totalObjectives > 0 ? (checkedObjectives / totalObjectives) * 100 : 0;
            const isCompleted = checkedObjectives === totalObjectives && totalObjectives > 0;
            
            // UI ì—…ë°ì´íŠ¸ (í€˜ìŠ¤íŠ¸ë³„)
            const questProgressFill = document.getElementById(`progress-fill-${quest.id}`);
            const questPercentText = document.getElementById(`percent-text-${quest.id}`);

            if (questProgressFill) {
                questProgressFill.style.width = `${questPercent.toFixed(2)}%`;
            }
            if (questPercentText) {
                questPercentText.textContent = `${questPercent.toFixed(2)}%`;
            }

            // NPC ë° ì „ì²´ í•©ê³„ ì—…ë°ì´íŠ¸
            npcTotals[quest.npc].totalObjectives += totalObjectives;
            npcTotals[quest.npc].checkedObjectives += checkedObjectives;
            if (isCompleted) {
                npcTotals[quest.npc].completedQuests++;
            }

            totalAllObjectives += totalObjectives;
            totalCheckedAllObjectives += checkedObjectives;
        });
        
        // NPCë³„ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        Object.keys(npcTotals).forEach(npc => {
            const npcTotal = npcTotals[npc];
            const npcPercent = npcTotal.totalObjectives > 0 ? (npcTotal.checkedObjectives / npcTotal.totalObjectives) * 100 : 0;
            
            const npcProgressFill = document.getElementById(`npc-progress-fill-${npc}`);
            const npcPercentText = document.getElementById(`npc-percent-text-${npc}`);
            const npcCompletedText = document.getElementById(`npc-completed-quests-${npc}`);

            if (npcProgressFill) {
                npcProgressFill.style.width = `${npcPercent.toFixed(2)}%`;
            }
            if (npcPercentText) {
                npcPercentText.textContent = `${npcPercent.toFixed(2)}%`;
            }
            if (npcCompletedText) {
                npcCompletedText.textContent = npcTotal.completedQuests;
            }
        });

        // ì „ì²´ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        const overallPercent = totalAllObjectives > 0 ? (totalCheckedAllObjectives / totalAllObjectives) * 100 : 0;

        document.getElementById('overall-progress-fill').style.width = `${overallPercent.toFixed(2)}%`;
        document.getElementById('overall-percent-text').textContent = `${overallPercent.toFixed(2)}%`;

        const totalQuestsCompletedCount = questData.filter(quest => {
            const total = quest.objectives.length;
            let checked = 0;
            quest.objectives.forEach((obj, objIndex) => {
                const checkbox = document.getElementById(`${quest.id}-${objIndex}`);
                if (checkbox && checkbox.checked) checked++;
            });
            return total > 0 && checked === total;
        }).length;

        document.getElementById('overall-total-quests').textContent = totalQuests;
        document.getElementById('overall-completed-quests').textContent = totalQuestsCompletedCount;
        
        // í˜„ì¬ ì²´í¬ ìƒíƒœ ì €ì¥
        const currentProgress = {};
        questData.forEach(quest => {
            quest.objectives.forEach((obj, objIndex) => {
                const checkboxId = `${quest.id}-${objIndex}`;
                const checkbox = document.getElementById(checkboxId);
                if (checkbox) {
                    currentProgress[checkboxId] = checkbox.checked;
                }
            });
        });
        saveProgress(currentProgress);
    };

    // ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ HTMLë¡œ ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜
    const renderChecklists = () => {
        const container = document.getElementById('checklist-container');
        let html = '';
        
        const preCalcTotals = questData.reduce((acc, quest) => {
            if (!acc[quest.npc]) {
                acc[quest.npc] = { totalObjectives: 0, totalQuests: 0 };
            }
            acc[quest.npc].totalObjectives += quest.objectives.length;
            acc[quest.npc].totalQuests++;
            return acc;
        }, {});
        
        window.npcTotals = preCalcTotals; 
        
        Object.keys(groupedData).forEach(npc => {
            const quests = groupedData[npc];
            
            // NPC ì„¹ì…˜ ì‹œì‘
            html += `<div class="npc-section">
                <h2>ğŸ‘¤ ${npc} í€˜ìŠ¤íŠ¸ ì§„í–‰ë¥  (<span id="npc-percent-text-${npc}">0.00%</span>)</h2>
                <div class="progress-bar npc-progress-bar">
                    <div class="progress-fill npc-progress-fill" id="npc-progress-fill-${npc}" style="width: 0;"></div>
                </div>
                <p>ì´ í€˜ìŠ¤íŠ¸ ${quests.length}ê°œ ì¤‘ <span id="npc-completed-quests-${npc}">0</span>ê°œ ì™„ë£Œ</p>

                <ul class="quest-list">`;
            
            // í€˜ìŠ¤íŠ¸ ëª©ë¡
            quests.forEach(quest => {
                html += `<li class="quest-item">
                    <div class="quest-header">
                        <a href="${quest.link}" target="_blank">ğŸ”— ${quest.name}</a>
                        <div>
                            <span id="percent-text-${quest.id}">0.00%</span>
                            <div class="progress-bar" style="width: 100px; display: inline-block; margin-left: 10px; height: 15px;">
                                <div class="progress-fill" id="progress-fill-${quest.id}" style="width: 0; height: 15px; line-height: 15px;"></div>
                            </div>
                        </div>
                    </div>
                    <ul class="objective-list">`;

                // ëª©í‘œ ëª©ë¡ (ì²´í¬ë°•ìŠ¤)
                quest.objectives.forEach((obj, objIndex) => {
                    const checkboxId = `${quest.id}-${objIndex}`;
                    const isChecked = questProgress[checkboxId] || false;
                    
                    html += `<li>
                        <input type="checkbox" id="${checkboxId}" ${isChecked ? 'checked' : ''} onchange="updateProgress()">
                        <label for="${checkboxId}">${obj}</label>
                    </li>`;
                });

                html += `</ul></li>`;
            });
            
            html += `</ul></div>`;
        });
        
        container.innerHTML = html;
        updateProgress();
    };

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
    document.addEventListener('DOMContentLoaded', renderChecklists);

</script>

</body>
</html>